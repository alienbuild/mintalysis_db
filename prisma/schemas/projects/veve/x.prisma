// schemas/projects/veve/x.prisma
// X Stats (Formely Twitter)

model x_account {
  id         Int                    @id @default(autoincrement())
  handle     String                 @unique
  avatar     String?
  followers  Int                    @default(0)
  following  Int                    @default(0)
  project_id String?
  project    projects?              @relation(fields: [project_id], references: [id])
  x_posts    x_posts[]
  createdAt  DateTime?              @default(now())
  snapshots  x_account_snapshot[]
}

model x_account_snapshot {
  id             Int          @id @default(autoincrement())
  handle         String
  followers      Int
  following      Int
  createdAt      DateTime     @default(now())
  x_account      x_account    @relation(fields: [handle], references: [handle])
}

model x_posts {
  id            Int       @id @default(autoincrement())
  createdAt     DateTime? @default(now())
  link          String?
  text          String?   @db.Text
  image         String?
  like_count    Int?
  comment_count Int?
  repost_count  Int?
  handle        String
  account       x_account @relation(fields: [handle], references: [handle])
}